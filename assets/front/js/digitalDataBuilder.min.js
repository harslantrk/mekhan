var digitalDataBuilder=function(){"use strict";function a(a){for(var b in I)void 0!==I[b]["default"]&&d(a,b,I[b]["default"])}function b(){var a=L.getSessionData(),b=(new Date).getTime(),c=b>a.lastActiveAt+v,d=b>a.currentSessionInitiatedAt+w;(c||d)&&(a={lastActiveAt:b,currentSessionInitiatedAt:b,previousSessionInitiatedAt:a.currentSessionInitiatedAt,sessionCount:a.sessionCount+1}),a.lastActiveAt=b,L.saveSessionData(a)}function c(){var a=L.getSessionData(),b=a.sessionCount>1,c=Math.floor((a.currentSessionInitiatedAt-a.previousSessionInitiatedAt)/864e5),d=a.sessionCount,e={profile:[{profileInfo:{returningStatus:b,daysSinceLastVisit:c,visits:d}}]};window.digitalData.user=window.digitalData.user||[],window.digitalData.user.push(e)}function d(a,b,c){var d=h(b,r(c)?c():c);b in I&&i(b,d)&&e(a,I[b].path,d)}function e(a,b,c){var d=b.split("."),e=d.pop();g(f(a,d),e,c)}function f(a,b){for(var c=0;c<b.length;c++)a[b[c]]=a[b[c]]||{},a=a[b[c]];return a}function g(a,b,c){void 0!==c&&(a[b]=c)}function h(a,b){return r(I[a].normalizer)?I[a].normalizer(b):b}function i(a,b){return!r(I[a].validator)||I[a].validator(b)}function j(a,b,c){var e=function(e){window.digitalData.events=window.digitalData.events||[];var f={eventName:"Search"};if(void 0!==b){var g=r(b)?b():b;d(f,"Search Form Type",g.productType),d(f,"Search Form Class",g.productClass),d(f,"Search Form Make",g.productMake),d(f,"Search Form Condition",g.productCondition),d(f,"Price Low End",g.priceFrom),d(f,"Price High End",g.priceTo),d(f,"Length Low End",g.lengthFrom),d(f,"Length High End",g.lengthTo)}window.digitalData.events.push(f),n("search"),e.preventDefault(),!s(c)&&t(c)||m(function(){a.submit()})};a.addEventListener("submit",function(a){e(a)},!0)}function k(a,b){a.addEventListener("addthis.menu.share",function(a){if("addthis.menu.share"==a.type){var c=a.data.service,d=!0;switch(a.data.service){case"more":d=!1;break;case"facebook":c="facebook share";break;case"facebook_like":c="facebook like";break;case"facebook_unlike":d=!1;break;case"google_plusone_share":c="google plus share";break;case"google_plusone":c="google plus plus one";break;case"google_unplusone":d=!1;break;case"pinterest_share":c="pinterest pin";break;case"tweet":c="twitter"}d&&digitalDataBuilder.addLead(b,c)}})}function l(a,b,c){var d=!1,e=function(a){if(a.preventDefault(),!d){d=!0;var e=a.currentTarget||a.srcElement;b(),!s(c)&&t(c)||"A"===e.tagName.toUpperCase()&&m(function(){e.hasAttribute("href")&&(location.href=e.getAttribute("href"))})}};a.addEventListener("click",function(a){e(a)},!0)}function m(a){setTimeout(a,u)}function n(a){if(a in J)for(var b=0;b<J[a].length;b++)J[a][b].call()}function o(a){var b=Array.prototype.slice,c=b.call(arguments,1);return function(){var d=b.call(arguments),e=c.concat(d);return a.apply(null,e)}}function p(a,b){for(var c=0;c<a.length;c++)if(b===a[c])return!0;return!1}function q(a){return"boolean"==typeof a}function r(a){return"function"==typeof a}function s(a){return a!==!1&&t(a)}function t(a){return null!=a}var u=400,v=18e5,w=432e5,x=["boat","engine","trailer"],y=["new","used","fsbo","blue star"],z=["power","sail","small boat","commercial","pwc"],A=["AU","CA","DE","DK","ES","FI","FR","GB","IT","NL","NO","RU","SE","UK","US","EU"],B=["all","power","sail","commercial","personal watercraft","small boat","unpowered"],C=["aft cabin","antique and classic","barge","bowrider","canal and river cruiser","cargo ship","catamaran","center cockpit","center console","combination","commercial","convertible","crabber","cruise ship","cruiser","cruiser and racer","cuddy cabin","cutter","daysailer","deck saloon","dive boat","downeast","dragger","express cruiser","flybridge","freshwater fishing","gulet","high performance","house boat","inflatable","ketch","mega yacht","motor yacht","motorsailer","multi hull","narrow boat","passenger","personal watercraft","pilothouse","pontoon","racing","racing sailboat","runabout","saltwater fishing","schooner","skiff","ski and wakeboard boat","sloop","sport fishing","sports cruiser","tender","trawler","trimaran","troller","tug","utility","yawl","other","unspecified","aluminum fish boat","bass boat","bay boat","beach catamaran","deck boat","dinghy","dual console","express cruiser","flats boat","jet boat","jon boat","kayak","lobster boat","performance sailboat","power catamaran","rigid sports inflatable","ski and fish","walkaround","angler","weekender","airboat","bluewater fishing","submersible","duck boat"],D=["home","search","services","listings","seller","admin","content","mixed content"],E=D.concat(["home","search","services","listings","seller","admin","content","mixed content","charters search","listing search","listing browse","broker-dealer search","editorial features","blog","general content","services","charter listings","boat listings","part-accessory listings","fsbo","broker-dealer","dmm info","user access","help","oem showcase","uncategorized"]),F=E.concat(["about us","accessory listings","accounts","advanced charters search","advanced listing search","articles","boat details","boat gallery","boat history","boatermouth","broker-dealer browse","broker-dealer details","broker-dealer directory","broker-dealer gallery","broker-dealer search","broker-dealer search results","charters browse","charters search results","contact broker-dealer","contact us","copyright","custom website","destinations","email friend","engine listings","events","faq","finance","find broker","foundation","how-to","insurance","lifestyle","listing brand browse","listing city browse","listing class browse","listing country browse","listing general browse","listing model browse","listing search results","listing state browse","listing type browse","manage your listing","media kit","mini-site","oem showcase home","oem showcase category","oem showcase brand","on the water","part listings","press releases","price checker","privacy","programs","promotions","resources","reviews","search help","security","sell your boat","subscriptions","terms of use","trailer listings","transport","video boat reviews","water blogged","yachts"]),G=["featured boat ad","enhanced listing","sponsored listing","standard listing","premium featured boat ad","same seller listing","browse listing","previously viewed","boats near you","similar listings"],H=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC","PR","VI","AS","GU","MP","AB","BC","MB","NB","NL","NS","ON","PE","QC","SK","NT","NU","YT"],I={"Is Error Page":{path:"digitalData.page.attributes.isErrorPage",validator:q,"default":!1},"Are Ads Blocked":{path:"digitalData.page.attributes.areAdsBlocked",validator:o(p,["yes","no"]),"default":"no"},"Full Domain":{path:"digitalData.page.attributes.fullDomain","default":window.location.hostname},URL:{path:"digitalData.page.pageInfo.destinationURL","default":window.location.href},"Portal Name":{path:"digitalData.page.attributes.portalName",validator:o(p,["midas test","YachtWorld","custom websites","boats.com","Boat Trader","partner website"])},"Site Description":{path:"digitalData.page.attributes.siteDescription",validator:o(p,["website","iphone app","mobile site"])},"Site Country":{path:"digitalData.page.pageInfo.geoRegion",validator:o(p,A),normalizer:function(a){return"GB"===a?"UK":a}},Section:{path:"digitalData.page.category.primaryCategory",validator:o(p,D)},"Sub-Section":{path:"digitalData.page.category.subSection",validator:o(p,E)},"Page Name":{path:"digitalData.page.category.pageName",validator:o(p,F)},"Detailed Page Name":{path:"digitalData.page.pageInfo.pageName",normalizer:function(a){return a.toLowerCase()}},"Search Form Type":{path:"attributes.type",validator:o(p,B)},"Search Form Class":{path:"attributes.boatClass",validator:o(p,C)},"Search Form Make":{path:"attributes.make"},"Search Form Condition":{path:"attributes.condition",validator:o(p,["all","new","used"])},"Price High End":{path:"attributes.priceTo"},"Price Low End":{path:"attributes.priceFrom"},"Length High End":{path:"attributes.lengthTo"},"Length Low End":{path:"attributes.lengthFrom"},"Product ID":{path:"productInfo.productID"},"Product Class":{path:"category.boatClass",validator:o(p,C)},"Product Manufacturer":{path:"productInfo.manufacturer"},"Product Length":{path:"productInfo.boatLength"},"Product State":{path:"productInfo.location.stateProvince",validator:o(p,H)},"Product Impression Product ID":{path:"productImpressionInfo.productID"},"Product Impression Listing Type":{path:"productImpressionInfo.listingType",validator:o(p,G)},"Product Click Product ID":{path:"productClickInfo.productID"},"Product Click Listing Type":{path:"productClickInfo.listingType",validator:o(p,G)},"Product Category":{path:"productInfo.category",validator:o(p,x)},"Product Condition":{path:"productInfo.condition",validator:o(p,y)},"Product City":{path:"productInfo.location.city",normalizer:function(a){return a?a.toLowerCase():a}},"Product Country":{path:"productInfo.location.country",normalizer:function(a){return a?a.toLowerCase():a}},"Product Currency":{path:"productInfo.currency"},"Product Listed Price":{path:"productInfo.listedPrice"},"Product Model":{path:"productInfo.model",normalizer:function(a){return a?a.toLowerCase():a}},"Product Year Built":{path:"productInfo.yearBuilt"},"Product Type":{path:"productInfo.type",validator:o(p,z)},"Seller ID":{path:"sellerID"},"External Link Impression External Link ID":{path:"externalLinkImpressionInfo.externalLinkID"},"External Link Click External Link ID":{path:"externalLinkClickInfo.externalLinkID"},"Transaction Item Type":{path:"attributes.type",validator:o(p,["Lead"])},"Transaction Item Lead Type":{path:"attributes.leadType",normalizer:function(a){return a.toLowerCase()}}},J={lead:[],search:[],"product impression":[],"product click":[],"external link click":[],"ad serve":[],"product view":[],"editorial page view":[]},K={init:function(){return window.digitalData=window.digitalData||{},a(window),b(window),c(),K},set:function(a,b){return a in I&&0===I[a].path.lastIndexOf("digitalData.",0)&&d(window,a,b),K},addProduct:function(){var a=[].slice.call(arguments);return 1===a.length&&"object"==typeof a[0]?(this.setProduct(a[0]),n("product view"),K):void this.addProduct({imtID:a[0],productClass:a[1],manufacturer:a[2],length:a[3],state:a[4]})},setProduct:function(){var a=[].slice.call(arguments);if(1===a.length&&"object"==typeof a[0]){var b={};return d(b,"Product ID",a[0].imtID),d(b,"Product Class",a[0].productClass),d(b,"Product Manufacturer",a[0].manufacturer),d(b,"Product Length",a[0].length),d(b,"Product State",a[0].state),d(b,"Product Category",a[0].category),d(b,"Product Condition",a[0].condition),d(b,"Product City",a[0].city),d(b,"Product Country",a[0].country),d(b,"Product Currency",a[0].currency),d(b,"Product Listed Price",a[0].listedPrice),d(b,"Product Model",a[0].model),d(b,"Product Year Built",a[0].yearBuilt),d(b,"Product Type",a[0].productType),d(b,"Seller ID",a[0].sellerID),window.digitalData.product=window.digitalData.product||[],window.digitalData.product.push(b),K}return this.setProduct({imtID:a[0],productClass:a[1],manufacturer:a[2],length:a[3],state:a[4]})},setProductImpression:function(a,b){var c={};return d(c,"Product Impression Product ID",a),d(c,"Product Impression Listing Type",b),window.digitalData.page.attributes.productImpressions=window.digitalData.page.attributes.productImpressions||[],window.digitalData.page.attributes.productImpressions.push(c),K},setExternalLinkImpression:function(a){var b={},c=a.toLowerCase();return d(b,"External Link Impression External Link ID",c),window.digitalData.page.attributes.externalLinkImpressions=window.digitalData.page.attributes.externalLinkImpressions||[],window.digitalData.page.attributes.externalLinkImpressions.push(b),K},setAdServe:function(){var a={};return window.digitalData.page.attributes.adServes=window.digitalData.page.attributes.adServes||[],window.digitalData.page.attributes.adServes.push(a),K},setEditorial:function(){return window.digitalData.page.attributes.isEditorial=!0,K},addProductImpression:function(a,b){return this.setProductImpression(a,b),n("product impression"),K},addProductClick:function(a,b){var c={};return d(c,"Product Click Product ID",a),d(c,"Product Click Listing Type",b),window.digitalData.page.attributes.productClicks=window.digitalData.page.attributes.productClicks||[],window.digitalData.page.attributes.productClicks.push(c),n("product click"),K},addExternalLinkClick:function(a){var b={},c=a.toLowerCase();return d(b,"External Link Click External Link ID",c),window.digitalData.page.attributes.externalLinkClicks=window.digitalData.page.attributes.externalLinkClicks||[],window.digitalData.page.attributes.externalLinkClicks.push(b),n("external link click"),K},addLead:function(a,b){if(i("Transaction Item Lead Type",b)){window.digitalData.transaction=window.digitalData.transaction||{},window.digitalData.transaction.items=window.digitalData.transaction.items||[];var c={};d(c,"Transaction Item Type","Lead"),d(c,"Transaction Item Lead Type",b),d(c,"Product ID",a),window.digitalData.transaction.items.push(c),n("lead")}return K},addAdServe:function(){return this.setAdServe(),n("ad serve"),K},addEditorial:function(){return this.setEditorial(),n("editorial page view"),K},registerProductLink:function(a,b,c,d){var e=function(){K.addProductClick(b,c)};return l(a,e,d),K},registerExternalLink:function(a,b,c){var d=function(){K.addExternalLinkClick(b)};return l(a,d,c),K},registerHardLeadLink:function(a,b,c,d){var e=function(){K.addLead(b,c)};return l(a,e,d),K},registerLeadLink:function(a,b,c,d){this.registerHardLeadLink(a,b,c,d)},registerSearchForm:function(a,b,c){return j(a,b,c),K},registerAddThis:function(a,b){return k(a,b),K},event:{addListener:function(a,b){a in J&&J[a].push(b)}}},L=function(){function a(a,b,c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e=a+"="+b+";",f="expires="+d.toUTCString()+";",g=location.hostname.split("."),h=g.splice(g.length-2,2).join("."),i="domain=."+h+";",j="path=/;";("localhost"===location.hostname||location.hostname.match(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/))&&(i=""),document.cookie=e+f+i+j}function b(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(b))return e.substring(b.length,e.length)}}var c="midas",d={saveSessionData:function(b){var d=b.lastActiveAt+"|"+b.currentSessionInitiatedAt+"|"+b.previousSessionInitiatedAt+"|"+b.sessionCount;a(c,d,3650)},getSessionData:function(){var a=(new Date).getTime(),d=a+"|"+a+"|"+a+"|1",e=b(c)?b(c).split("|"):d.split("|");return{lastActiveAt:parseInt(e[0]),currentSessionInitiatedAt:parseInt(e[1]),previousSessionInitiatedAt:parseInt(e[2]),sessionCount:parseInt(e[3])}}};return d}();return K}();